<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio - DzungLayout | Visual Director</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts: Playfair Display (Serif) & Lato (Sans) -->
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
    <!-- Markdown Parser -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Lato', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    },
                    colors: {
                        // Palette: Stone/Charcoal/Gold
                        primary: '#1c1917',   // Stone 900 (Black-ish)
                        accent: '#a8a29e',    // Stone 400 (Muted Grey/Gold tone)
                        paper: '#fafaf9',     // Stone 50 (Off-white)
                        dark: '#0c0a09',      // Stone 950
                        darkPaper: '#1c1917'
                    },
                    backgroundImage: {
                        'noise': "url('data:image/svg+xml,%3Csvg viewBox=%220 0 200 200%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cfilter id=%22noiseFilter%22%3E%3CfeTurbulence type=%22fractalNoise%22 baseFrequency=%220.65%22 numOctaves=%223%22 stitchTiles=%22stitch%22/%3E%3C/filter%3E%3Crect width=%22100%25%22 height=%22100%25%22 filter=%22url(%23noiseFilter)%22 opacity=%220.05%22/%3E%3C/svg%3E')",
                    }
                }
            }
        }
    </script>
    <style>
        /* Tinh chỉnh Typography */
        h1, h2, h3, h4 { font-family: 'Playfair Display', serif; }
        
        .typing-effect::after {
            content: '';
            display: inline-block;
            width: 2px;
            height: 1em;
            background-color: currentColor;
            margin-left: 4px;
            animation: blink 1s infinite;
        }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
        
        /* Elegant Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #d6d3d1; border-radius: 0; }
        ::-webkit-scrollbar-thumb:hover { background: #78716c; }

        /* Custom Selection Color */
        ::selection { background: #1c1917; color: #fff; }
        .dark ::selection { background: #fff; color: #000; }

        /* AI Output Styles - Clean */
        .prose h3 { font-family: 'Playfair Display', serif; font-size: 1.25rem; font-style: italic; margin-bottom: 0.5rem; color: #1c1917; }
        .dark .prose h3 { color: #e7e5e4; }
        .prose ul { list-style-type: none; padding-left: 0; margin-bottom: 1rem; }
        .prose li::before { content: "—"; margin-right: 0.5rem; color: #a8a29e; }

        /* Animation cho Logo Marquee */
        @keyframes scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
        .animate-infinite-scroll {
            animation: scroll 40s linear infinite;
        }
        /* Tạm dừng khi di chuột vào để khách xem rõ hơn */
        .animate-infinite-scroll:hover {
            animation-play-state: paused;
        }
    </style>
</head>
<body class="bg-paper text-primary dark:bg-dark dark:text-stone-200 transition-colors duration-500 font-sans antialiased">

    <!-- Navbar: Minimal & Transparent -->
    <nav class="fixed w-full z-50 mix-blend-difference text-white/90"> 
        <!-- Note: Using mix-blend-difference allows navbar to be visible on both light/dark backgrounds automatically -->
        <div class="max-w-screen-2xl mx-auto px-6 py-6 flex justify-between items-center">
            <a href="#" class="text-2xl font-serif font-bold tracking-widest uppercase">Dzung.</a>
            
            <div class="hidden md:flex space-x-12 text-sm tracking-widest font-light uppercase">
                <a href="#home" class="hover:text-gray-400 transition">Home</a>
                <a href="#work" class="hover:text-gray-400 transition">Selected Work</a>
                <a href="#studio" class="hover:text-gray-400 transition">AI Studio</a>
                <a href="#about" class="hover:text-gray-400 transition">Profile</a>
            </div>

            <div class="flex items-center space-x-6">
                <button id="theme-toggle" class="hover:text-gray-400 transition text-lg">
                    <i class="fas fa-adjust"></i> <!-- Minimal icon -->
                </button>
                <button id="mobile-menu-btn" class="md:hidden text-lg">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
        
        <!-- Mobile Menu (Background filled) -->
        <div id="mobile-menu" class="hidden absolute top-full left-0 w-full bg-paper dark:bg-dark text-primary dark:text-white border-b border-stone-200 dark:border-stone-800">
            <div class="flex flex-col p-6 space-y-4 font-serif text-xl">
                <a href="#home" class="block">Home</a>
                <a href="#work" class="block">Work</a>
                <a href="#studio" class="block">AI Studio</a>
                <a href="#contact" class="block">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section: Editorial Style -->
    <section id="home" class="min-h-screen flex items-center justify-center relative pt-20 px-6">
        <!-- Background Noise Texture -->
        <div class="absolute inset-0 bg-noise opacity-50 pointer-events-none"></div>
        
        <div class="max-w-5xl mx-auto text-center z-10">
            <p class="text-sm md:text-base tracking-[0.3em] uppercase text-accent mb-6 animate-fade-in-up">Portfolio 2025</p>
            
            <h1 class="text-6xl md:text-9xl font-serif leading-none mb-8 tracking-tighter">
                <span class="block">Visual</span>
                <span class="block italic text-stone-400 dark:text-stone-600">Storyteller</span>
            </h1>

            <div class="h-px w-24 bg-primary dark:bg-white mx-auto mb-8"></div>

            <p class="text-lg md:text-2xl font-light max-w-2xl mx-auto leading-relaxed mb-12">
                I am <span id="typing-text" class="font-normal italic"></span>.<br>
                Crafting emotions through frames and pixels.
            </p>

            <div class="flex flex-col md:flex-row justify-center items-center gap-6">
                <a href="#work" class="group relative px-8 py-3 overflow-hidden border border-primary dark:border-stone-200 transition-all hover:bg-primary hover:text-white dark:hover:bg-white dark:hover:text-black">
                    <span class="relative z-10 text-sm tracking-widest uppercase">View Selected Work</span>
                </a>
                <a href="#contact" class="text-sm tracking-widest uppercase border-b border-transparent hover:border-primary dark:hover:border-white transition-all pb-1">
                    Get in touch
                </a>
            </div>
        </div>
        
        <!-- Scroll Indicator -->
        <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce">
            <span class="text-xs tracking-widest uppercase rotate-90 block origin-left translate-y-12 translate-x-1">Scroll</span>
            <div class="h-16 w-px bg-stone-300 mx-auto mt-4"></div>
        </div>
    </section>

    <!-- Selected Work: Gallery Grid Style -->
    <section id="work" class="py-32 px-6 bg-white dark:bg-darkPaper">
        <div class="max-w-screen-xl mx-auto">
            <div class="flex flex-col md:flex-row justify-between items-end mb-20 border-b border-stone-200 dark:border-stone-800 pb-8">
                <div>
                    <h2 class="text-4xl md:text-5xl mb-2">Selected Work</h2>
                    <p class="text-stone-500 font-light">A collection of moments & brands.</p>
                </div>
                <div class="mt-6 md:mt-0 flex gap-4 text-sm font-bold text-stone-400">
                    <a href="#" class="text-primary dark:text-white border-b border-primary dark:border-white pb-1">All</a>
                    <a href="https://www.youtube.com" target="_blank" class="hover:text-primary dark:hover:text-white transition">Film</a>
                    <a href="https://www.behance.net" target="_blank" class="hover:text-primary dark:hover:text-white transition">Design</a>
                </div>
            </div>

            <!-- Grid Layout -->
            <div class="grid md:grid-cols-2 gap-x-8 gap-y-16">
                <!-- Project 1 -->
                <div class="group cursor-pointer">
                    <div class="relative overflow-hidden aspect-[4/3] mb-6 bg-stone-100">
                        <img src="https://images.unsplash.com/photo-1492691527719-9d1e07e534b4?w=800&auto=format&fit=crop&q=80" alt="Work 1" class="object-cover w-full h-full transform transition duration-700 group-hover:scale-105 filter grayscale group-hover:grayscale-0">
                        <div class="absolute inset-0 bg-black/0 group-hover:bg-black/10 transition duration-500"></div>
                    </div>
                    <div class="flex justify-between items-start">
                        <div>
                            <span class="text-xs font-bold tracking-widest uppercase text-accent mb-1 block">Travel Film</span>
                            <h3 class="text-2xl italic group-hover:translate-x-2 transition duration-300">Northwest Journey</h3>
                        </div>
                        <span class="text-xs border border-stone-300 px-2 py-1 rounded-full text-stone-500">2024</span>
                    </div>
                </div>

                <!-- Project 2 (Offset top for masonry feel) -->
                <div class="group cursor-pointer md:mt-20">
                    <div class="relative overflow-hidden aspect-[3/4] mb-6 bg-stone-100">
                        <img src="images/web-show-1.jpg" alt="Work 2" class="object-cover w-full h-full transform transition duration-700 group-hover:scale-105 filter grayscale group-hover:grayscale-0">
                    </div>
                    <div class="flex justify-between items-start">
                        <div>
                            <span class="text-xs font-bold tracking-widest uppercase text-accent mb-1 block">Brand Identity</span>
                            <h3 class="text-2xl italic group-hover:translate-x-2 transition duration-300">Web design</h3>
                        </div>
                        <span class="text-xs border border-stone-300 px-2 py-1 rounded-full text-stone-500">2023</span>
                    </div>
                </div>

                <!-- Project 3 -->
                <div class="group cursor-pointer">
                    <div class="relative overflow-hidden aspect-[16/9] mb-6 bg-stone-100">
                        <img src="https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=800&auto=format&fit=crop&q=80" alt="Work 3" class="object-cover w-full h-full transform transition duration-700 group-hover:scale-105 filter grayscale group-hover:grayscale-0">
                    </div>
                    <div class="flex justify-between items-start">
                        <div>
                            <span class="text-xs font-bold tracking-widest uppercase text-accent mb-1 block">Motion Graphics</span>
                            <h3 class="text-2xl italic group-hover:translate-x-2 transition duration-300">Cyberpunk Intro</h3>
                        </div>
                        <span class="text-xs border border-stone-300 px-2 py-1 rounded-full text-stone-500">2024</span>
                    </div>
                </div>
                
                 <!-- Project 4 -->
                 <div class="group cursor-pointer md:mt-20">
                    <div class="relative overflow-hidden aspect-[4/5] mb-6 bg-stone-100">
                        <img src="https://images.unsplash.com/photo-1600607686527-6fb886090705?w=800&auto=format&fit=crop&q=80" alt="Work 4" class="object-cover w-full h-full transform transition duration-700 group-hover:scale-105 filter grayscale group-hover:grayscale-0">
                    </div>
                    <div class="flex justify-between items-start">
                        <div>
                            <span class="text-xs font-bold tracking-widest uppercase text-accent mb-1 block">Editorial Design</span>
                            <h3 class="text-2xl italic group-hover:translate-x-2 transition duration-300">Vogue Mockup</h3>
                        </div>
                        <span class="text-xs border border-stone-300 px-2 py-1 rounded-full text-stone-500">2023</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

     <!-- NEW SECTION: Client Logos (Marquee) -->
    <section class="py-16 border-t border-stone-100 dark:border-stone-800 bg-paper dark:bg-dark overflow-hidden">
        <div class="max-w-screen-xl mx-auto px-6 mb-8 text-center">
            <p class="text-xs font-bold tracking-[0.2em] uppercase text-stone-400">Trusted Partners</p>
        </div>
        
        <div class="relative flex overflow-x-hidden group">
            <!-- Gradient Masks (Lớp mờ 2 bên) -->
            <div class="absolute top-0 bottom-0 left-0 w-24 z-10 bg-gradient-to-r from-paper dark:from-dark to-transparent"></div>
            <div class="absolute top-0 bottom-0 right-0 w-24 z-10 bg-gradient-to-l from-paper dark:from-dark to-transparent"></div>

            <!-- Logo Track (Nhân đôi logo để chạy lặp vô tận) -->
            <div class="py-4 animate-infinite-scroll whitespace-nowrap flex items-center gap-16 md:gap-24 pl-6">
                <!-- LOGO SET 1 -->
                <!-- Sử dụng filter: grayscale(100%) opacity(50%) để đồng bộ màu sắc -->
                <img src="https://upload.wikimedia.org/wikipedia/commons/2/2f/Google_2015_logo.svg" class="h-8 w-auto object-contain grayscale opacity-40 hover:grayscale-0 hover:opacity-100 transition duration-300 cursor-pointer" alt="Google">
                <img src="https://upload.wikimedia.org/wikipedia/commons/0/08/Netflix_2015_logo.svg" class="h-8 w-auto object-contain grayscale opacity-40 hover:grayscale-0 hover:opacity-100 transition duration-300 cursor-pointer" alt="Netflix">
                <img src="https://upload.wikimedia.org/wikipedia/commons/a/a6/Logo_NIKE.svg" class="h-6 w-auto object-contain grayscale opacity-40 hover:grayscale-0 hover:opacity-100 transition duration-300 cursor-pointer" alt="Nike">
                <img src="https://upload.wikimedia.org/wikipedia/commons/2/20/Adidas_Logo.svg" class="h-10 w-auto object-contain grayscale opacity-40 hover:grayscale-0 hover:opacity-100 transition duration-300 cursor-pointer" alt="Adidas">
                <img src="https://upload.wikimedia.org/wikipedia/commons/7/7b/Meta_Platforms_Inc._logo.svg" class="h-8 w-auto object-contain grayscale opacity-40 hover:grayscale-0 hover:opacity-100 transition duration-300 cursor-pointer" alt="Meta">
                <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/IBM_logo.svg" class="h-8 w-auto object-contain grayscale opacity-40 hover:grayscale-0 hover:opacity-100 transition duration-300 cursor-pointer" alt="IBM">
                <img src="https://upload.wikimedia.org/wikipedia/commons/4/47/Samsung.svg" class="h-8 w-auto object-contain grayscale opacity-40 hover:grayscale-0 hover:opacity-100 transition duration-300 cursor-pointer" alt="Samsung">

                <!-- LOGO SET 2 (Clone y hệt Set 1 để tạo vòng lặp) -->
                <img src="https://upload.wikimedia.org/wikipedia/commons/2/2f/Google_2015_logo.svg" class="h-8 w-auto object-contain grayscale opacity-40 hover:grayscale-0 hover:opacity-100 transition duration-300 cursor-pointer" alt="Google">
                <img src="https://upload.wikimedia.org/wikipedia/commons/0/08/Netflix_2015_logo.svg" class="h-8 w-auto object-contain grayscale opacity-40 hover:grayscale-0 hover:opacity-100 transition duration-300 cursor-pointer" alt="Netflix">
                <img src="https://upload.wikimedia.org/wikipedia/commons/a/a6/Logo_NIKE.svg" class="h-6 w-auto object-contain grayscale opacity-40 hover:grayscale-0 hover:opacity-100 transition duration-300 cursor-pointer" alt="Nike">
                <img src="https://upload.wikimedia.org/wikipedia/commons/2/20/Adidas_Logo.svg" class="h-10 w-auto object-contain grayscale opacity-40 hover:grayscale-0 hover:opacity-100 transition duration-300 cursor-pointer" alt="Adidas">
                <img src="https://upload.wikimedia.org/wikipedia/commons/7/7b/Meta_Platforms_Inc._logo.svg" class="h-8 w-auto object-contain grayscale opacity-40 hover:grayscale-0 hover:opacity-100 transition duration-300 cursor-pointer" alt="Meta">
                <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/IBM_logo.svg" class="h-8 w-auto object-contain grayscale opacity-40 hover:grayscale-0 hover:opacity-100 transition duration-300 cursor-pointer" alt="IBM">
                <img src="https://upload.wikimedia.org/wikipedia/commons/4/47/Samsung.svg" class="h-8 w-auto object-contain grayscale opacity-40 hover:grayscale-0 hover:opacity-100 transition duration-300 cursor-pointer" alt="Samsung">
            </div>
        </div>
    </section>

    
    <!-- AI Studio: Minimalist Interface -->
    <section id="studio" class="py-32 px-6 bg-paper dark:bg-dark relative">
        <div class="absolute inset-0 bg-noise opacity-30 pointer-events-none"></div>
        <div class="max-w-4xl mx-auto relative z-10">
            <div class="text-center mb-16">
                <span class="text-xs font-bold tracking-[0.2em] uppercase text-accent">Experimental</span>
                <h2 class="text-4xl md:text-5xl mt-2 mb-6">AI Creative Studio</h2>
                <p class="font-light text-lg text-stone-600 dark:text-stone-400 max-w-xl mx-auto">
                    Merging human intuition with machine intelligence. A suite of tools I use to spark inspiration.
                </p>
            </div>

            <div class="grid md:grid-cols-2 gap-12">
                <!-- Tool 1 -->
                <div class="bg-white dark:bg-[#1a1a1a] p-8 md:p-10 shadow-sm hover:shadow-xl transition duration-500 border border-stone-100 dark:border-stone-800">
                    <div class="mb-8">
                        <i class="fas fa-lightbulb text-2xl text-stone-400 mb-4 block"></i>
                        <h3 class="text-2xl font-serif italic mb-2">Concept Generator</h3>
                        <p class="text-sm text-stone-500 font-light">Generate art direction & visual mood.</p>
                    </div>
                    
                    <div class="space-y-6">
                        <input type="text" id="idea-input" class="w-full bg-transparent border-b border-stone-300 dark:border-stone-700 py-3 text-lg focus:outline-none focus:border-primary dark:focus:border-white transition placeholder-stone-400 font-serif" placeholder="Enter a subject (e.g. Noir City)...">
                        
                        <div id="idea-result" class="hidden text-sm leading-relaxed text-stone-600 dark:text-stone-300 prose dark:prose-invert"></div>

                        <button id="btn-generate-idea" class="group flex items-center text-sm font-bold tracking-widest uppercase hover:text-stone-500 transition">
                            <span>Ignite Spark</span>
                            <span class="ml-2 transform group-hover:translate-x-1 transition"><i class="fas fa-arrow-right"></i></span>
                        </button>
                    </div>
                </div>

                <!-- Tool 2 -->
                <div class="bg-white dark:bg-[#1a1a1a] p-8 md:p-10 shadow-sm hover:shadow-xl transition duration-500 border border-stone-100 dark:border-stone-800">
                    <div class="mb-8">
                        <i class="fas fa-pen-fancy text-2xl text-stone-400 mb-4 block"></i>
                        <h3 class="text-2xl font-serif italic mb-2">Draft Assistant</h3>
                        <p class="text-sm text-stone-500 font-light">Compose professional inquiries.</p>
                    </div>
                    
                    <div class="space-y-6">
                        <textarea id="email-input" rows="1" class="w-full bg-transparent border-b border-stone-300 dark:border-stone-700 py-3 text-lg focus:outline-none focus:border-primary dark:focus:border-white transition placeholder-stone-400 font-serif resize-none" placeholder="Brief requirements..."></textarea>
                        
                        <div id="email-result" class="hidden relative p-6 bg-stone-50 dark:bg-black/20 text-sm font-mono text-stone-600 dark:text-stone-300 border-l-2 border-stone-300"></div>

                        <button id="btn-generate-email" class="group flex items-center text-sm font-bold tracking-widest uppercase hover:text-stone-500 transition">
                            <span>Compose</span>
                            <span class="ml-2 transform group-hover:translate-x-1 transition"><i class="fas fa-arrow-right"></i></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Profile & Skills -->
    <section id="about" class="py-32 px-6 bg-white dark:bg-darkPaper border-t border-stone-100 dark:border-stone-900">
        <div class="max-w-5xl mx-auto flex flex-col md:flex-row gap-16 items-start">
            <div class="md:w-1/3 sticky top-32">
                 <div class="relative">
                    <img src="https://plus.unsplash.com/premium_photo-1682141028605-b2456e2bab14?q=80&w=687&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Portrait" class="w-full grayscale hover:grayscale-0 transition duration-1000">
                    <div class="mt-4 flex justify-between items-end">
                        <div>
                            <h3 class="text-xl font-serif">DzungLayout</h3>
                            <p class="text-xs tracking-widest text-stone-500 uppercase mt-1">Ho Chi Minh City</p>
                        </div>
                        <img src="https://api.dicebear.com/9.x/initials/svg?seed=DL&backgroundColor=1c1917&textColor=ffffff" class="w-10 h-10 rounded-full" alt="Logo">
                    </div>
                 </div>
            </div>
            
            <div class="md:w-2/3">
                <h2 class="text-3xl md:text-4xl mb-8">DzungLayout</h2>
                <p class="text-lg md:text-xl font-light leading-relaxed text-stone-700 dark:text-stone-300 mb-12">
                    "Design is not just what it looks like and feels like. Design is how it works. I believe in minimalism that speaks volumes, and motion that evokes emotion."
                </p>

                <div class="grid grid-cols-2 gap-y-12 gap-x-8">
                    <div>
                        <h4 class="font-bold tracking-widest uppercase text-xs mb-4 border-b border-stone-200 dark:border-stone-800 pb-2">Expertise</h4>
                        <ul class="space-y-2 font-light text-stone-600 dark:text-stone-400">
                            <li>Art Direction</li>
                            <li>Video Editing (Premiere/DaVinci)</li>
                            <li>Motion Graphics (After Effects)</li>
                            <li>Brand Identity</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold tracking-widest uppercase text-xs mb-4 border-b border-stone-200 dark:border-stone-800 pb-2">Recognition</h4>
                        <ul class="space-y-2 font-light text-stone-600 dark:text-stone-400">
                            <li>Behance Featured 2023</li>
                            <li>Vimeo Staff Pick</li>
                            <li>Awwwards Nominee</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer: Simple -->
    <footer class="bg-primary text-white py-20 px-6">
        <div class="max-w-screen-xl mx-auto flex flex-col md:flex-row justify-between items-center">
            <div class="mb-8 md:mb-0 text-center md:text-left">
                <h2 class="text-4xl font-serif italic mb-2">Let's create something timeless.</h2>
                <a href="mailto:contact@dzung.com" class="text-stone-400 hover:text-white transition border-b border-stone-600 pb-1">contact@dzunglayout.com</a>
            </div>
            
            <div class="flex gap-6 text-xl">
                <a href="#" class="hover:text-stone-400 transition"><i class="fab fa-instagram"></i></a>
                <a href="#" class="hover:text-stone-400 transition"><i class="fab fa-behance"></i></a>
                <a href="#" class="hover:text-stone-400 transition"><i class="fab fa-linkedin"></i></a>
            </div>
        </div>
        <div class="text-center mt-20 text-xs text-stone-600 uppercase tracking-widest">
            © 2025 DzungLayout. All Rights Reserved.
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        const apiKey = ""; 

        // Theme Toggle
        const themeToggleBtn = document.getElementById('theme-toggle');
        const html = document.documentElement;
        
        // Initial Check
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            html.classList.add('dark');
        }

        themeToggleBtn.addEventListener('click', () => {
            html.classList.toggle('dark');
            localStorage.theme = html.classList.contains('dark') ? 'dark' : 'light';
        });

        // Mobile Menu
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Typing Effect
        const textElement = document.getElementById('typing-text');
        const phrases = ['DzungLayout', 'an Editor', 'a Designer', 'a Minimalist'];
        let phraseIndex = 0;
        let charIndex = 0;
        let isDeleting = false;

        function type() {
            const currentPhrase = phrases[phraseIndex];
            if (isDeleting) {
                textElement.textContent = currentPhrase.substring(0, charIndex - 1);
                charIndex--;
            } else {
                textElement.textContent = currentPhrase.substring(0, charIndex + 1);
                charIndex++;
            }

            if (!isDeleting && charIndex === currentPhrase.length) {
                isDeleting = true;
                setTimeout(type, 2000);
            } else if (isDeleting && charIndex === 0) {
                isDeleting = false;
                phraseIndex = (phraseIndex + 1) % phrases.length;
                setTimeout(type, 500);
            } else {
                setTimeout(type, isDeleting ? 50 : 100);
            }
        }
        document.addEventListener('DOMContentLoaded', type);

        // --- GEMINI API (Cleaned up for new UI) ---
        async function callGemini(prompt) {
            const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
            const payload = { contents: [{ parts: [{ text: prompt }] }] };
            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const data = await response.json();
                return data.candidates[0].content.parts[0].text;
            } catch (e) {
                console.error(e);
                return "Unavailable at the moment.";
            }
        }

        document.getElementById('btn-generate-idea').addEventListener('click', async function() {
            const input = document.getElementById('idea-input').value;
            const resultDiv = document.getElementById('idea-result');
            const btn = this;
            
            if (!input.trim()) return;
            
            btn.innerHTML = '<span>Thinking...</span>';
            resultDiv.classList.remove('hidden');
            resultDiv.innerHTML = '<span class="animate-pulse">Consulting the muse...</span>';

            const prompt = `Act as an Art Director. Create a sophisticated visual concept for: "${input}". 
            Format: Markdown. Keep it brief, poetic, and professional. 
            Structure: 
            ### [Concept Name]
            * **Mood:** ...
            * **Visuals:** ...
            Language: Vietnamese.`;

            const text = await callGemini(prompt);
            resultDiv.innerHTML = marked.parse(text);
            btn.innerHTML = `<span>Ignite Spark</span><span class="ml-2"><i class="fas fa-arrow-right"></i></span>`;
        });

        document.getElementById('btn-generate-email').addEventListener('click', async function() {
            const input = document.getElementById('email-input').value;
            const resultDiv = document.getElementById('email-result');
            const btn = this;
            
            if (!input.trim()) return;

            btn.innerHTML = '<span>Drafting...</span>';
            resultDiv.classList.remove('hidden');
            resultDiv.innerHTML = '<span class="animate-pulse">Composing...</span>';

            const prompt = `Write a short, professional inquiry email to DzungLayout based on: "${input}". 
            Tone: Elegant, respectful, concise. Language: Vietnamese.`;

            const text = await callGemini(prompt);
            resultDiv.innerText = text;
            
            // Auto expand textarea
            const ta = document.getElementById('email-input');
            ta.value = ""; 
            ta.placeholder = "Anything else?";
            
            btn.innerHTML = `<span>Compose</span><span class="ml-2"><i class="fas fa-arrow-right"></i></span>`;
        });
    </script>
</body>
</html>







